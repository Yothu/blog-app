<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog App!</title>
</head>
<body>
  <div class="index">
    <% flash.each do |name, msg| -%>
    <%= content_tag :div, msg, class: "#{name} generic-alert" %>
    <% end -%>

    <div class="header black-border">
      <h2>Current User: <%= @current_user.name %></h2>
      <%= link_to 'Create Post', {controller: 'posts', action: 'new'}, class: 'posts-btn black-border header-btn' %>
    </div>
    <% @users.each do |user| %>
      <div class="user">
        <img class="user-image black-border" src='<%= user.photo %>' alt="user-image">

        <div class="user-basic-data black-border">
          <%= link_to user.name, {controller: 'users', action: 'show', id: user.id}, class: 'user-index-name hover-title' %>
          <p class="user-index-posts">Posts: <%= user.posts_counter || 0%></p>
        </div>
      </div>
    <% end %>
  </div>
</body>
</html>